"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElementService=void 0,require("core-js/modules/esnext.async-iterator.find.js"),require("core-js/modules/esnext.async-iterator.map.js"),require("core-js/modules/esnext.iterator.constructor.js"),require("core-js/modules/esnext.iterator.find.js"),require("core-js/modules/esnext.iterator.map.js");var _generateNodeList=_interopRequireDefault(require("../factories/generateNodeList")),_TreeLinker=_interopRequireDefault(require("collect-your-stuff/dist/collections/linked-tree-list/TreeLinker")),_NodeService=require("./NodeService");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class ElementService extends _NodeService.NodeService{constructor(){let{tagName:e="",attributes:t=[],parent:r=null,children:i=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.parent=r,this.children=(0,_generateNodeList.default)(_TreeLinker.default.fromArray(i).head),this.tagName=e,this.attributes=t.concat([{name:"className",value:""},{name:"id",value:""},{name:"innerHTML",value:""}]),this.attributes.map((e=>{let{name:t,value:r}=e;return this[t]=r,{name:t,value:r}})),this.classList=this.className}get nodeType(){return PseudoNode.ELEMENT_NODE}applyDefaultEvent(){let e=e=>{};switch(this.tagName){case"form":this.addEventListener("submit",e);break;case"button":case"input":/^(submit|image)$/i.test(this.type||"")&&(e=e=>{const t=require("./PseudoEvent").getParentNodesFromAttribute("tagName","form",this);t&&t[0].submit()},super.setDefaultEvent("click",e))}return e}appendChild(e){return super.appendChild(e),e.applyDefaultEvent(),e}hasAttribute(e){return"undefined"!==this.getAttribute(e)}setAttribute(e,t){(this.hasAttribute(e)||"undefined"===this[e])&&(this[e]=t,this.attributes.push({name:e,value:t}))}getAttribute(e){return this.attributes.find((t=>t.name===e))}removeAttribute(e){return this.hasAttribute(e)&&delete this[e],null}}exports.ElementService=ElementService;